(()=>{"use strict";var e={};(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})(e),Object.defineProperty(exports,"__esModule",{value:!0}),exports.LinkedInQueensSolver=void 0;var t=require("../../board.js"),r=require("node:assert"),n=require("./queens.js"),o=require("../../../util/util.js"),i=function(){function e(e){this.client=new l(e),this.algorithm=n.QueensSATAlgorithm.getInstance()}return e.prototype.solve=function(){var e=this.algorithm.getSolution(this.client.getGrid()),t=u(this.client.getClient()),r=Math.sqrt(t.length);if(void 0===e)throw new Error("No solution found for this game; for LinkedIn, this is typically a bug");t.forEach((function(t,n){var i=Math.floor(n/r),l=n%r;e.get(i,l).queen&&((0,o.triggerMouseEvent)(t,"mousedown"),(0,o.triggerMouseEvent)(t,"mouseup"))}))},e}();exports.LinkedInQueensSolver=i;var l=function(){function e(e){this.document=e}return e.prototype.getClient=function(){return this.document},e.prototype.getGrid=function(){var e=u(this.document),n=Math.sqrt(e.length);if(!Number.isInteger(n))throw new Error("collected cells did not form a perfect grid");if(0===n)throw new Error("no cells found");return(0,t.makeGrid)(n,n,e).map((function(e,t,n){var o,i,l=(null!==(o=Array.from(n.classList).filter((function(e){return e.startsWith("cell-color-")}))[0])&&void 0!==o?o:r.default.fail("classes did not have color data")).split("-"),u=parseInt(null!==(i=l[l.length-1])&&void 0!==i?i:r.default.fail());if(Number.isNaN(u))throw new Error("can't parse color: ".concat(u));var s=!1,a=n.getElementsByClassName("cell-content")[0];return a&&a.querySelectorAll("div").forEach((function(e){s||(s=e.className.includes("queen"))})),{queen:s,color:u}}))},e}();function u(e){var t=e.getElementById("queens-grid");if(null===t)throw new Error("wrong  page, or queens grid id is wrong");var r=t.querySelectorAll(".queens-cell-with-border");return Array.from(r)}window.location.href.startsWith("https://linkedin.com/games/queens")&&new e.LinkedInQueensSolver(document).solve()})();